{"ast":null,"code":"var _jsxFileName = \"/Users/neeleshsharma/Desktop/rkim-fe-1/src/Reports/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { API_BASE } from '../apiBaseInfo';\nimport { Button, Row, Col, Modal, Spin } from 'antd';\nimport { failureToast, successToast } from '../App';\nimport axios from 'axios';\nimport fileDownload from 'react-file-download';\nimport { Link } from 'react-router-dom';\nimport { DownloadOutlined, RollbackOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Reports(props) {\n  _s();\n\n  const [minerals, setMinerals] = useState([]);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [mineralStock, setMineralStock] = useState([]);\n  const [powderStock, setPowderStock] = useState({});\n  const [infoType, setInfoType] = useState(null);\n  const [showMineralInfo, setShowMineralInfo] = useState(false);\n  const [totalPowderBalance, setTotalPowder] = useState(false);\n  const modalHeaders = [\"\", \"Mineral Info.\", \"Powder Info.\"];\n  useEffect(() => {\n    axios.get(API_BASE + \"/api/mineralModel\").then(res => {\n      console.log(res.data);\n      setMinerals(res.data.content);\n      setDataLoading(false);\n    }).catch(() => {\n      window.location.reload();\n      failureToast('something went wrong in fetching the app data');\n    });\n  }, []);\n\n  const calMineralInfo = () => {\n    var j = [];\n\n    if (minerals.length != 0) {\n      minerals.map(mineral => {\n        var mineralBalance = 0;\n        mineral.rockTypes.map(rockType => {\n          mineralBalance += rockType.typeBalance;\n        });\n        j.push({\n          mineralName: mineral.mineralName,\n          mineralBalance: mineralBalance,\n          measuringUnit: mineral.measuringUnit\n        });\n      });\n      setMineralStock(j);\n      setShowMineralInfo(true);\n    }\n  };\n\n  return dataLoading == true ? /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }, this), /*#__PURE__*/_jsxDEV(Spin, {\n      style: {\n        paddingTop: '40px'\n      },\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 51\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 100\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 105\n    }, this), \"loading\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 31\n  }, this) : /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      span: 2,\n      style: {\n        paddingTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"ghost\",\n          size: \"large\",\n          style: {\n            border: '0px'\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(RollbackOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 89\n          }, this), \" Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      span: 22,\n      align: \"left\",\n      style: {\n        paddingTop: '20px',\n        paddingLeft: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          paddingLeft: '5px'\n        },\n        children: \"Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: '10px'\n        },\n        onClick: () => {\n          setInfoType(1);\n          calMineralInfo();\n        },\n        children: \"Minerals Info.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: '10px'\n        },\n        onClick: () => {\n          setInfoType(2);\n          setShowMineralInfo(true);\n        },\n        children: \"Powder Info.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          marginRight: '10px'\n        },\n        href: \"http://localhost:3001/api/incomingEntryModel/allInReport\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: [\"Incoming Entries \", /*#__PURE__*/_jsxDEV(DownloadOutlined, {\n            style: {\n              color: '#1890ff'\n            },\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          marginRight: '10px'\n        },\n        href: \"http://localhost:3001/api/grindingEntryModel/allInReport\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: [\"Grinding Entries \", /*#__PURE__*/_jsxDEV(DownloadOutlined, {\n            style: {\n              color: '#1890ff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          marginRight: '10px'\n        },\n        href: \"http://localhost:3001/api/powderDispatchingEntryModel/allInReport\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: [\"Powder Dispatching Entries \", /*#__PURE__*/_jsxDEV(DownloadOutlined, {\n            style: {\n              color: '#1890ff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: modalHeaders[infoType],\n      visible: showMineralInfo,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => {\n          setShowMineralInfo(false);\n        },\n        children: \"Ok\"\n      }, \"submit\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)],\n      onCancel: () => {\n        setShowMineralInfo(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '40vh',\n          overflowY: 'scroll'\n        },\n        children: [infoType == 1 ? /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: '0px solid black',\n                padding: '5px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \" Mineral \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 20\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: '0px solid black',\n                padding: '5px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 150\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 16\n          }, this), mineralStock.length != 0 ? mineralStock.map(mineral => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  border: '2px solid silver',\n                  padding: '5px 10px'\n                },\n                children: [mineral.mineralName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 43\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  border: '2px solid silver',\n                  padding: '5px 10px'\n                },\n                children: [mineral.mineralBalance, \" \", mineral.measuringUnit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 131\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 39\n            }, this);\n          }) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 31\n        }, this) : \"\", infoType == 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: minerals.length != 0 ? minerals.map(mineral => {\n            var totalPowder;\n            return /*#__PURE__*/_jsxDEV(\"table\", {\n              style: {\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: mineral.mineralName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 77\n              }, this), mineral.powderGrades.length != 0 ? mineral.powderGrades.map(grade => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      border: '2px solid silver',\n                      padding: '5px 10px'\n                    },\n                    children: [grade.gradeName, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 57\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      border: '2px solid silver',\n                      padding: '5px 10px'\n                    },\n                    children: [grade.gradeBalance, \" \", mineral.measuringUnit]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 141\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 53\n                }, this);\n              }) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 43\n            }, this);\n          }) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 31\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Reports, \"KC5GvlRmBD8vpvsdWMxDQQ0dXWU=\");\n\n_c = Reports;\nexport default Reports;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"sources":["/Users/neeleshsharma/Desktop/rkim-fe-1/src/Reports/index.js"],"names":["React","useEffect","useState","API_BASE","Button","Row","Col","Modal","Spin","failureToast","successToast","axios","fileDownload","Link","DownloadOutlined","RollbackOutlined","Reports","props","minerals","setMinerals","dataLoading","setDataLoading","mineralStock","setMineralStock","powderStock","setPowderStock","infoType","setInfoType","showMineralInfo","setShowMineralInfo","totalPowderBalance","setTotalPowder","modalHeaders","get","then","res","console","log","data","content","catch","window","location","reload","calMineralInfo","j","length","map","mineral","mineralBalance","rockTypes","rockType","typeBalance","push","mineralName","measuringUnit","paddingTop","border","paddingLeft","marginRight","color","height","overflowY","padding","totalPowder","marginTop","powderGrades","grade","gradeName","gradeBalance"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { API_BASE } from '../apiBaseInfo';\r\nimport { Button, Row, Col, Modal, Spin } from 'antd';\r\nimport { failureToast, successToast } from '../App';\r\nimport axios from 'axios'; \r\nimport fileDownload from 'react-file-download';\r\nimport { Link } from 'react-router-dom';\r\nimport { DownloadOutlined, RollbackOutlined } from '@ant-design/icons'\r\n\r\n\r\nfunction Reports(props) {\r\n\r\n    const [minerals, setMinerals] = useState([]);\r\n    const [dataLoading, setDataLoading] = useState(true);\r\n\r\n    const [mineralStock, setMineralStock] = useState([]);\r\n    const [powderStock, setPowderStock] = useState({});\r\n    const [infoType, setInfoType] = useState(null);\r\n    const [showMineralInfo, setShowMineralInfo] = useState(false);\r\n    const [totalPowderBalance, setTotalPowder] = useState(false);\r\n\r\n    const modalHeaders = [\r\n        \"\",\r\n        \"Mineral Info.\",\r\n        \"Powder Info.\"\r\n    ] \r\n\r\n   \r\n\r\n    useEffect(()=>{\r\n        axios.get(API_BASE + \"/api/mineralModel\").then((res) => {\r\n            console.log(res.data);\r\n            setMinerals(res.data.content);\r\n            setDataLoading(false);\r\n        }).catch(()=>{\r\n            window.location.reload();\r\n            failureToast('something went wrong in fetching the app data');\r\n        })\r\n    },[]) \r\n\r\n    const calMineralInfo = () => {\r\n        var j = [];\r\n        if(minerals.length != 0) {minerals.map((mineral) => {\r\n            var mineralBalance = 0;\r\n            mineral.rockTypes.map((rockType) => {\r\n                mineralBalance += rockType.typeBalance;\r\n            })  \r\n            j.push({mineralName: mineral.mineralName, mineralBalance : mineralBalance, measuringUnit : mineral.measuringUnit});\r\n        })\r\n        setMineralStock(j);\r\n        setShowMineralInfo(true)\r\n    }\r\n    };\r\n\r\n   \r\n    \r\n\r\n    return (\r\n        dataLoading == true ? <span><h2><br/></h2><Spin style={{paddingTop:'40px'}} size=\"large\" /><br/><br/>loading</span> :\r\n        <Row>\r\n            <Col span={2} style={{paddingTop: '10px'}}>\r\n                <Link to=\"/\"><Button type=\"ghost\" size=\"large\" style={{border: '0px'}}> <RollbackOutlined /> Back</Button></Link>\r\n            </Col>\r\n            <Col span={22} align=\"left\" style={{paddingTop: '20px', paddingLeft: '50px'}}> \r\n                <h3 style={{paddingLeft: '5px'}}>Reports</h3>\r\n                <br/> \r\n                    <Button style={{marginRight: '10px'}} onClick={()=>{setInfoType(1); calMineralInfo();}}>Minerals Info.</Button> \r\n                    <br/>\r\n                    <br/>\r\n                         <Button style={{marginRight: '10px'}} onClick={()=>{setInfoType(2); setShowMineralInfo(true);}}>Powder Info.</Button>\r\n                         <br/> \r\n                         <br/> \r\n                    <a style={{marginRight: '10px'}} href=\"http://localhost:3001/api/incomingEntryModel/allInReport\">\r\n                        <Button>Incoming Entries <DownloadOutlined style={{color:'#1890ff'}} size=\"large\"/></Button>\r\n                    </a>\r\n                    <br/>\r\n                    <br/>\r\n                    <a style={{marginRight: '10px'}} href=\"http://localhost:3001/api/grindingEntryModel/allInReport\">\r\n                        <Button>Grinding Entries <DownloadOutlined style={{color:'#1890ff'}}/></Button>\r\n                    </a>\r\n                    <br/>\r\n                    <br/>\r\n                    <a style={{marginRight: '10px'}} href=\"http://localhost:3001/api/powderDispatchingEntryModel/allInReport\">\r\n                        <Button>Powder Dispatching Entries <DownloadOutlined style={{color:'#1890ff'}}/></Button>\r\n                    </a> \r\n            </Col>\r\n            <Modal title={modalHeaders[infoType]} visible={showMineralInfo} \r\n        footer={[\r\n            <Button key=\"submit\" type=\"primary\" onClick={()=>{ \r\n                setShowMineralInfo(false);\r\n                }}>\r\n              Ok\r\n            </Button>, \r\n          ]}  onCancel={() => {setShowMineralInfo(false);}}> \r\n          <div style={{height:'40vh', overflowY:'scroll'}}>\r\n             {infoType == 1 ? <table>\r\n               <tr><td style={{border:'0px solid black', padding:'5px'}}><b> Mineral </b></td> <td style={{border:'0px solid black', padding:'5px'}}><b>Balance</b></td></tr>\r\n                            {\r\n                               mineralStock.length != 0 ? mineralStock.map((mineral) => {\r\n                               return <tr><td style={{border:'2px solid silver', padding:'5px 10px'}}>{mineral.mineralName} </td> <td style={{border:'2px solid silver', padding:'5px 10px'}}>{mineral.mineralBalance} {mineral.measuringUnit}</td></tr>\r\n                               }) : \"\"\r\n                            }\r\n            </table> : \"\"}\r\n            {infoType == 2 ?  <div>\r\n                            {\r\n                               minerals.length != 0 ? minerals.map((mineral) => {\r\n                                   var totalPowder\r\n                                   return <table style={{marginTop:'20px'}}><h4>{ mineral.mineralName }</h4>\r\n                                   {\r\n                                       mineral.powderGrades.length != 0 ? mineral.powderGrades.map((grade)=>{\r\n\r\n                                            return  <tr><td style={{border:'2px solid silver', padding:'5px 10px'}}>{grade.gradeName} </td> <td style={{border:'2px solid silver', padding:'5px 10px'}}>{grade.gradeBalance} {mineral.measuringUnit}</td></tr>\r\n                                                \r\n                                       }) : \"\"\r\n                                   }\r\n                               \r\n                               </table>}) : \"\"\r\n                            }\r\n            </div> : \"\"}\r\n            </div>\r\n        </Modal>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Reports;\r\n"]},"metadata":{},"sourceType":"module"}